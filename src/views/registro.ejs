<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="/css/registro.css" />
    <%- include('./partials/head') %>
    <title>Registro</title>
  </head>
  <body>
    <%- include('./partials/navbar') %>
    <div class="registro">
      <form action="/registro/create" method="post" enctype="multipart/form-data">        
        <% if(locals.errors) { %>
          <% errors.forEach(error => { %>
            <div class="errores">
              <%= error.msg %>
            </div>  
          <%  }) %> 
        <% } %> 
        <div class="form-box">
          <label for="nombre">Nombre:</label>
          <input
            data-mensaje="Nombre"
            type="text"
            name="nombre"
            autocomplete="nombre"
            id="nombre"
            required
            minlength="4"
            maxlength="18"
            onchange="validation(this, 4, 18)"
            value="<%= locals.old && old.nombre ? old.nombre : "" %>"
          />
        </div>
        <div class="form-box">
          <label for="apellido">Apellido:</label>
          <input
            data-mensaje="Apellido"
            type="text"
            name="apellido"
            autocomplete="apellido"
            id="apellido"
            required
            minlength="4"
            maxlength="30"
            onchange="validation(this, 4, 30)"
            value="<%= locals.old && old.apellido ? old.apellido : "" %>"
          />
        </div>
        <div class="form-box">
          <label for="telefono">Teléfono:</label>
          <input
            data-mensaje="Teléfono"
            type="number"
            name="telefono"
            autocomplete="telefono"
            id="telefono"
            required
            onchange="validation(this, 7, 10)"
            value="<%= locals.old && old.telefono ? old.telefono : "" %>"
          />
        </div>
        <div class="form-box">
          <label for="usuario">Nombre de usuario:</label>
          <input
            data-mensaje="Nombre de usuario"
            type="text"
            name="usuario"
            autocomplete="username"
            id="usuario"
            required
            minlength="2"
            maxlength="18"
            onchange="validation(this, 2, 18)"
            value="<%= locals.old && old.usuario ? old.usuario : "" %>"
          />
        </div>
        <div class="form-box">
          <label for="mail">Email:</label>
          <input
            data-mensaje="Email"
            type="email"
            name="mail"
            id="mail"
            placeholder="ejemplo@email.com"
            autocomplete="email"
            required
            onchange="validateEmail(this)"
            value="<%= locals.old && old.mail ? old.mail : "" %>"
          />
        </div>
        <div class="form-box">
          <label for="password">Contraseña:</label>
          <input
            data-mensaje="Contraseña"
            type="password"
            name="password"
            id="password"
            autocomplete="new-password"
            required
            minlength="6"
            onchange="validation(this, 6, 30)"
          />
        </div>
        <div class="form-box">
          <label for="confPassword">Confirme su contraseña</label>
          <input
            data-mensaje="Contraseña"
            type="password"
            name="confPassword"
            id="confPassword"
            autocomplete="new-password"
            required
            minlength="6"
            onchange="validation(this, 6, 30)"
          />
        </div>
        <div class="form-date">
          <label for="fechanac">Fecha de nacimiento:</label>
          <input type="date" id="fechanac" name="fechanac" required value="<%= locals.old && old.fechanac ? old.fechanac : "" %>"/>
        </div>
        
        <div class="form-image">
          <label for="imagenPerfil">Imagen de perfil:</label>
          <input type="file" name="imagenPerfil" id="imagenPerfil" accept="image/*">
        </div>
        <div class="form-submit">
          <button type="submit">Registrarse</button>
        </div>
      </form>
      <a class="redirect-links" href="/login">Ya tenes una cuenta? ingresa.</a>
      <a class="redirect-links" href="/">Pagina de inicio.</a>
    </div>
    <%- include('./partials/sidenav') %>
  </body>
  <script src="/js/registerValidation.js
  "></script>
</html>

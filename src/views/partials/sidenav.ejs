<div id="overlay" onclick="closeNav()"></div>

<div id="closeBtn" onclick="closeNav()">&times;</div>
<div class="sidenav" id="mySidenav">
  <div class="sidenavHeader" onclick="location.href='/login'" style="cursor:pointer">
    <% if(locals.session.user){ %>

        <img src="/img/profiles/<%= locals.session.imagen %>" style="width:24px">
      <% } else { %>
        <i class="fas fa-user-circle"></i>
      <% } %>&nbsp;
     Hola, 

    <% if(locals.session.user){ %>
      <%= locals.session.user %>
      <% } else { %>
        inicia sesión
      <% } %>
    
  </div>
  <!--Below SideNavHeader-->
  <div id="main-container">
    <div class="sidenavContentHeader">Tu cuenta</div>
    <a href="#">
      <div class="sidenavContent"><a href="/product/create/">Vender</a></div>
    </a>
    <a href="#">
      <div class="sidenavContent"><a href="/admin">Mis Publicaciones</a></div>
    </a>
    
    <hr />
   
    
    <div class="sidenavContentHeader"><a href="/categorias">Categorias</a></div>
    <div class="itemscategorias">
    <a href="#" onclick="openTecno()">
      <div class="sidenavRow">
        <div>Tecnología</div>
        <i class="fas fa-chevron-right" style="color: #8e9090"></i>
      </div>
    </a>
    <a href="#" onclick="openIndu()">
      <div class="sidenavRow">
        <div>Indumentaria</div>
        <i class="fas fa-chevron-right" style="color: #8e9090"></i>
      </div>
    </a>
    <a href="#" onclick="openGaming()">
      <div class="sidenavRow">
        <div>Gaming</div>
        <i class="fas fa-chevron-right" style="color: #8e9090"></i>
      </div>
    </a>
    <a href="#">
      <div class="sidenavRow">
        <div>Libros</div>
        <i class="fas fa-chevron-right" style="color: #8e9090"></i>
      </div>
    </a>
    <div class="sidenavContainer" id="firstContainer">
      
      <a href="#">
        <div class="sidenavRow">
          <div>Hogar</div>
          <i class="fas fa-chevron-right" style="color: #8e9090"></i>
        </div>
      </a>
      <a href="#">
        <div class="sidenavRow">
          <div>Niños</div>
          <i class="fas fa-chevron-right" style="color: #8e9090"></i>
        </div>
      </a>
      <a href="#">
        <div class="sidenavRow">
          <div>Joyería y Accesorios</div>
          <i class="fas fa-chevron-right" style="color: #8e9090"></i>
        </div>
      </a>
      <a href="#">
        <div class="sidenavRow">
          <div>Deportes & Outdoors</div>
          <i class="fas fa-chevron-right" style="color: #8e9090"></i>
        </div>
      </a>
      <a href="#">
        <div class="sidenavRow">
          <div>Salud y Belleza</div>
          <i class="fas fa-chevron-right" style="color: #8e9090"></i>
        </div>
      </a>
      
      <a href="#">
        <div class="sidenavRow">
          <div>Movilidad</div>
          <i class="fas fa-chevron-right" style="color: #8e9090"></i>
        </div>
      </a>
      </div>
    </div>
    <!-- <div class="sidenavRowDropdown" id="firstDropDown" onclick="firstDropDown()">
      <div>Ver más</div>
      <i class="fas fa-chevron-down" style="color: #8e9090; margin-left: 10px">
      </i>
    </div> -->
    <hr />

    <!--inicia el segundo sidenavContainer-->
 
    <div class="sidenavContentHeader">Ayuda y Opciones</div>
    <a href="/perfil">
      <div class="sidenavContent">Tu Cuenta</div>
    </a>
    <a href="#">
      <div class="sidenavContent">Atención al cliente</div>
    </a>
    <a href="/login">
      <div class="sidenavContent">Loguearse</div>
    </a>
    <div style="height: 50px"></div>
  </div>
  <!--End of first container-->

  <div id="sub-container">
    <div id="mainMenu">
      <i class="fas fa-chevron-left" style="color: #8e9090"></i> Menú Principal
    </div>
    <hr />
    <div id="sub-container-content">
      <!-- <div class="sidenavContentHeader">Prime Video</div>
          <a href="#"><div class="sidenavContent">All Videos</div></a> -->
    </div>
  </div>
</div>

<script>
  async function getCategorias() {
    const response = await fetch('/categorias/api');
    const data = await response.json();
    
    document.querySelector('.itemscategorias').innerHTML = data.map(categoria => {
      return `
        <a href="/categorias/${categoria.idcategoria}">
          <div class="sidenavRow">
            <div>${categoria.descripcion}</div>
            <i class="fas fa-chevron-right" style="color: #8e9090"></i>
          </div>
        </a>
      `;
    }).join('');
    
  };
  getCategorias();
</script>

<script src="../../js/navscript.js"></script>